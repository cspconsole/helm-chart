# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
global:
  ingress:
    enabled: true
    ingressClassName: api-nginx
    hosts: 
      - "api.cspconsole.com"
    tls:
      hosts:
        - "*.api.cspconsole.com"

reportCollector:
  hpa:
    minReplicas: 2
    maxReplicas: 10
    averageUtilization: 70

  # 15s application + 10s sleep to deregister pod + 5s reserve
  terminationGracePeriod: 30
  secret:
    name: cspconsole
  deployment:
    type: RollingUpdate
    maxSurge: 1
    maxUnavailable: 1
  podDisruptionBudget:
    minAvailable: 1


  image:
    repository: cspconsole.azurecr.io/cspconsole/app
    tag: 1.x.x
    pullPolicy: Always
      
  service:
    type: ClusterIP
    ports:
      https:
        protocol: TCP
        port: 80
        targetPort: 8000

  resources: {}
    # requests:
      # cpu: 200m
      # memory: 512Mi

    # We usually recommend not to specify default resources and to leave this as a conscious
    # choice for the user. This also increases chances charts run on environments with little
    # resources, such as Minikube. If you do want to specify resources, uncomment the following
    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
    # limits:
    #  cpu: 100m
    #  memory: 128Mi
    # requests:
    #  cpu: 100m
    #  memory: 128Mi

  nodeSelector:
    agentpool: dynamicpoolb

  tolerations: []

  affinity: {}

configProvider:
  hpa:
    minReplicas: 1
    maxReplicas: 10
    averageUtilization: 70

  # 15s application + 10s sleep to deregister pod + 5s reserve
  terminationGracePeriod: 30
  #volume:
    #storageClassName:
  secret:
    name: cspconsole
  deployment:
    type: RollingUpdate
    maxSurge: 1
    maxUnavailable: 1

  podDisruptionBudget:
    minAvailable: 1

  image:
    repository: cspconsole.azurecr.io/cspconsole/app
    tag: 1.x.x  
    pullPolicy: Always

  service:
    type: ClusterIP
    ports:
      https:
        protocol: TCP
        port: 80
        targetPort: 8000

  resources: {}
    # requests:
      # cpu: 200m
      # memory: 512Mi

    # We usually recommend not to specify default resources and to leave this as a conscious
    # choice for the user. This also increases chances charts run on environments with little
    # resources, such as Minikube. If you do want to specify resources, uncomment the following
    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
    # limits:
    #  cpu: 100m
    #  memory: 128Mi
    # requests:
    #  cpu: 100m
    #  memory: 128Mi

  nodeSelector:
    agentpool: dynamicpoolb

  tolerations: []

  affinity: {}
